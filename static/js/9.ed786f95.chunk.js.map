{"version":3,"file":"static/js/9.ed786f95.chunk.js","mappings":"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","sources":["constants/constants.js","states/userProfileState.js","utils/webUtil.js","views/pages/register/Register.js","../node_modules/@coreui/icons/js/free/cil-lock-locked.js"],"sourcesContent":["// API URLS\r\nexport const WS_LOGIN = '/auth/login'\r\nexport const WS_SIGNUP = '/auth/signup'\r\nexport const WS_BOOKMARKS = '/bookmarks'\r\nexport const WS_BOOKMARKS_OWN = '/bookmarks/own'\r\nexport const WS_ACTIVITIES = '/activities'\r\nexport const WS_NOTIFICATIONS_OWN = '/notifications/own'\r\nexport const WS_NOTIFICATIONS_BULKREAD = '/notifications/bulkRead'\r\nexport const WS_NOTIFICATIONS_READALL = '/notifications/readAll'\r\nexport const WS_NOTIFICATIONS_COUNT = '/notifications/own/unread'\r\n\r\nexport const WS_COLLECTION_LISTING = '/magiceden/collection'\r\nexport const WS_COLLECTION_STATS = '/magiceden/collection/stats'\r\nexport const WS_TOKEN_METADATA = '/magiceden/token'\r\n\r\n// STATUS CODES\r\n// 400 - Bad request (Missing params, body)\r\n// 401 - Unauthorised (Bad token, etc.)\r\nexport const SUCCESS_RESPONSE_CODE = '200'\r\nexport const ERROR_RESPONSE_CODE = '500' // HTTP CODE 200\r\nexport const INVALID_ACCESS_TOKEN_RESPONSE_CODE = '501'\r\n\r\nexport const KEY_USER_PROFILE = 'yDKUIQH1sd'\r\n","import { useState, useEffect } from 'react'\r\nimport { KEY_USER_PROFILE } from 'src/constants/constants'\r\n\r\nconst store = {\r\n  state: JSON.parse(localStorage.getItem(KEY_USER_PROFILE)) || {},\r\n  setState(value) {\r\n    if (value) {\r\n      this.state = value\r\n      this.setters.forEach((setter) => setter(this.state))\r\n      localStorage.setItem(KEY_USER_PROFILE, JSON.stringify(value))\r\n    }\r\n  },\r\n  setters: [],\r\n}\r\n\r\n// Bind the setState function to the store object so\r\n// we don't lose context when calling it elsewhere\r\nstore.setState = store.setState.bind(store)\r\n\r\n// this is the custom hook we'll call on components.\r\nexport function useUserProfileStore() {\r\n  const [state, set] = useState(store.state)\r\n  if (!store.setters.includes(set)) {\r\n    store.setters.push(set)\r\n  }\r\n\r\n  useEffect(\r\n    () => () => {\r\n      store.setters = store.setters.filter((setter) => setter !== set)\r\n    },\r\n    [],\r\n  )\r\n\r\n  return [state, store.setState]\r\n}\r\n\r\nexport function getApiToken() {\r\n  return store.state?.token || null\r\n}\r\n\r\n// For non component usage\r\nexport function setUserProfileState(value) {\r\n  store.setState(value)\r\n}\r\n\r\nexport function getUserProfileState() {\r\n  return store.state\r\n}\r\n","import axios from 'axios'\r\nimport { getApiToken } from 'src/states/userProfileState'\r\nimport { setToastState } from 'src/states/toastState'\r\nimport { setUserProfileState } from 'src/states/userProfileState'\r\nimport { KEY_USER_PROFILE } from 'src/constants/constants'\r\n\r\nconst version = 'v1'\r\n\r\nconst instance = axios.create({\r\n  baseURL: `${process.env[`REACT_APP_BASE_API_URL`]}${version}`,\r\n  timeout: 10000,\r\n})\r\n\r\ninstance.interceptors.request.use(function (config) {\r\n  // Do something before request is sent\r\n  if (getApiToken()) {\r\n    config.headers.Authorization = `Bearer ${getApiToken()}`\r\n  }\r\n  return config\r\n}, undefined)\r\n\r\n// Add a response interceptor\r\ninstance.interceptors.response.use(undefined, function (res) {\r\n  if (res.response.data.statusCode === 401) {\r\n    setUserProfileState({})\r\n    localStorage.removeItem(KEY_USER_PROFILE)\r\n  }\r\n  setToastState({ status: 'danger', message: res?.response?.data?.message })\r\n  return Promise.reject(res)\r\n})\r\n\r\nconst httpRequestGet = (url, config) => {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .get(url, config)\r\n      .then((res) => {\r\n        resolve(res.data)\r\n      })\r\n      .catch((e) => reject(e))\r\n  })\r\n}\r\n\r\nconst httpRequestPost = (url, body, config) => {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(url, body, config)\r\n      .then((res) => {\r\n        resolve(res.data)\r\n      })\r\n      .catch((e) => reject(e))\r\n  })\r\n}\r\n\r\nconst httpRequestPut = (url, body, config) => {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .put(url, body, config)\r\n      .then((res) => {\r\n        resolve(res.data)\r\n      })\r\n      .catch((e) => reject(e))\r\n  })\r\n}\r\n\r\nconst httpRequestDelete = (url, config) => {\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .delete(url, config)\r\n      .then((res) => {\r\n        resolve(res.data)\r\n      })\r\n      .catch((e) => reject(e))\r\n  })\r\n}\r\n\r\nexport { httpRequestGet, httpRequestPost, httpRequestPut, httpRequestDelete }\r\n","import React, { useState } from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CInputGroup,\n  CInputGroupText,\n  CRow,\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { cilLockLocked } from '@coreui/icons'\nimport { httpRequestPost } from 'src/utils/webUtil'\nimport { WS_SIGNUP } from 'src/constants/constants'\nimport { useUserProfileStore } from 'src/states/userProfileState'\nimport { useNavigate } from 'react-router-dom'\nimport { setToastState } from 'src/states/toastState'\n\nconst Register = () => {\n  const navigate = useNavigate()\n  const [, setUserProfile] = useUserProfileStore()\n  const [signupDetails, setSignupDetails] = useState({\n    email: '',\n    password: '',\n  })\n\n  const handleOnChange = (e, key) => {\n    setSignupDetails((prev) => ({\n      ...prev,\n      [key]: e.target.value,\n    }))\n  }\n\n  const handleSignup = () => {\n    httpRequestPost(WS_SIGNUP, signupDetails).then((res) => {\n      setToastState({ status: 'success', message: 'Login Success' })\n      setUserProfile(res.data.data)\n      // NAV TO DASHBOARD\n      navigate('/')\n    })\n  }\n  return (\n    <div className=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md={9} lg={7} xl={6}>\n            <CCard className=\"mx-4\">\n              <CCardBody className=\"p-4\">\n                <CForm>\n                  <h1>Register</h1>\n                  <p className=\"text-medium-emphasis\">Create your account</p>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupText>@</CInputGroupText>\n                    <CFormInput\n                      placeholder=\"Email\"\n                      autoComplete=\"email\"\n                      onChange={(e) => handleOnChange(e, 'email')}\n                    />\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupText>\n                      <CIcon icon={cilLockLocked} />\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      autoComplete=\"new-password\"\n                      onChange={(e) => handleOnChange(e, 'password')}\n                    />\n                  </CInputGroup>\n                  <div className=\"d-grid\">\n                    <CButton color=\"success\" onClick={handleSignup}>\n                      Create Account\n                    </CButton>\n                  </div>\n                </CForm>\n              </CCardBody>\n            </CCard>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Register\n","export const cilLockLocked = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>\"]"],"names":["WS_LOGIN","WS_SIGNUP","WS_BOOKMARKS","WS_BOOKMARKS_OWN","WS_ACTIVITIES","WS_NOTIFICATIONS_OWN","WS_NOTIFICATIONS_READALL","WS_NOTIFICATIONS_COUNT","WS_COLLECTION_LISTING","WS_COLLECTION_STATS","WS_TOKEN_METADATA","KEY_USER_PROFILE","store","state","JSON","parse","localStorage","getItem","setState","value","this","setters","forEach","setter","setItem","stringify","useUserProfileStore","useState","set","includes","push","useEffect","filter","getApiToken","token","setUserProfileState","bind","instance","axios","baseURL","process","timeout","interceptors","request","use","config","headers","Authorization","undefined","response","res","data","statusCode","removeItem","setToastState","status","message","Promise","reject","httpRequestGet","url","resolve","get","then","catch","e","httpRequestPost","body","post","httpRequestDelete","delete","navigate","useNavigate","setUserProfile","email","password","signupDetails","setSignupDetails","handleOnChange","key","prev","target","className","md","lg","xl","placeholder","autoComplete","onChange","icon","cilLockLocked","type","color","onClick"],"sourceRoot":""}