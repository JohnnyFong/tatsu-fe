"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[523],{13524:function(n,e,t){t.d(e,{B4:function(){return d},CG:function(){return c},NC:function(){return a},S6:function(){return l},WD:function(){return u},Zd:function(){return m},d5:function(){return r},gT:function(){return i},gn:function(){return s},hN:function(){return f},lN:function(){return o},tl:function(){return h}});var r="/auth/login",o="/auth/signup",i="/bookmarks",c="/bookmarks/own",a="/activities",s="/notifications/own",u="/notifications/readAll",l="/notifications/own/unread",f="/magiceden/collection",d="/magiceden/collection/stats",m="/magiceden/token",h="yDKUIQH1sd"},94668:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r=t(70885),o=t(72791),i=t(40470),c=t(59860),a=t(1413),s=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",element:o.lazy((function(){return t.e(131).then(t.bind(t,82347))}))},{path:"/item",name:"Item",element:o.lazy((function(){return t.e(909).then(t.bind(t,69909))}))},{path:"/profile",name:"Profile",element:o.lazy((function(){return t.e(851).then(t.bind(t,82851))}))},{path:"/notification",name:"Notification",element:o.lazy((function(){return t.e(465).then(t.bind(t,14465))}))}],u=t(78983),l=t(80184),f=function(){var n=(0,i.TH)().pathname,e=function(n){var e=[];return n.split("/").reduce((function(n,t,r,o){var i="".concat(n,"/").concat(t),c=function(n,e){var t=e.find((function(e){return e.path===n}));return!!t&&t.name}(i,s);return c&&e.push({pathname:i,name:c,active:r+1===o.length}),i})),e}(n);return(0,l.jsxs)(u.fj,{className:"m-0 ms-2",children:[(0,l.jsx)(u.Sd,{href:"/",children:"Home"}),e.map((function(n,e){return(0,o.createElement)(u.Sd,(0,a.Z)((0,a.Z)({},n.active?{active:!0}:{href:n.pathname}),{},{key:e}),n.name)}))]})},d=o.memo(f),m=function(){return(0,l.jsx)(u.KB,{lg:!0,children:(0,l.jsx)(o.Suspense,{fallback:(0,l.jsx)(u.LQ,{color:"primary"}),children:(0,l.jsxs)(i.Z5,{children:[s.map((function(n,e){return n.element&&(0,l.jsx)(i.AW,{path:n.path,exact:n.exact,name:n.name,element:(0,l.jsx)(n.element,{})},e)})),(0,l.jsx)(i.AW,{path:"/",element:(0,l.jsx)(i.Fg,{to:"dashboard",replace:!0})})]})})})},h=o.memo(m),p=function(){return(0,l.jsx)(u.pG,{})},x=o.memo(p),j=t(34589),v=t(59434),b=t(24846),g=t(31389),S=t(86591),k=t(13524),N=function(){var n=(0,v.I0)(),e=(0,v.v9)((function(n){return n.sidebarShow})),t=(0,o.useState)(0),i=(0,r.Z)(t,2),c=i[0],a=i[1];return(0,o.useEffect)((function(){(0,S.AA)("".concat(k.S6)).then((function(n){a(n.data.count)}))}),[]),(0,l.jsxs)(u.PO,{position:"sticky",className:"mb-4",children:[(0,l.jsxs)(u.KB,{fluid:!0,children:[(0,l.jsx)(u.X4,{className:"ps-1",onClick:function(){return n({type:"set",sidebarShow:!e})},children:(0,l.jsx)(b.Z,{icon:g.N,size:"lg"})}),(0,l.jsxs)(u.g3,{className:"d-none d-md-flex me-auto",children:[(0,l.jsx)(u.U6,{children:(0,l.jsx)(u.AQ,{to:"/dashboard",component:j.OL,children:"Dashboard"})}),(0,l.jsx)(u.U6,{children:(0,l.jsx)(u.AQ,{to:"/profile",component:j.OL,children:"My Bookmark"})}),(0,l.jsx)(u.U6,{children:(0,l.jsxs)(u.AQ,{to:"/notification",component:j.OL,children:["Notification",c>0&&(0,l.jsx)(u.C_,{shape:"pill",color:"info",children:c})]})})]})]}),(0,l.jsx)(u.rc,{}),(0,l.jsx)(u.KB,{fluid:!0,children:(0,l.jsx)(d,{})})]})},w=t(44925),Z=["component","name","badge","icon"],y=["component","name","icon","to"],_=function(n){var e=n.items,t=(0,i.TH)(),r=function(n,e,t){return(0,l.jsxs)(l.Fragment,{children:[e&&e,n&&n,t&&(0,l.jsx)(u.C_,{color:t.color,className:"ms-auto",children:t.text})]})},c=function(n,e){var t=n.component,i=n.name,c=n.badge,s=n.icon,u=(0,w.Z)(n,Z),l=t;return(0,o.createElement)(l,(0,a.Z)((0,a.Z)({},u.to&&!u.items&&{component:j.OL}),{},{key:e},u),r(i,s,c))},s=function n(e,o){var i,s=e.component,u=e.name,f=e.icon,d=e.to,m=(0,w.Z)(e,y),h=s;return(0,l.jsx)(h,(0,a.Z)((0,a.Z)({idx:String(o),toggler:r(u,f),visible:t.pathname.startsWith(d)},m),{},{children:null===(i=e.items)||void 0===i?void 0:i.map((function(e,t){return e.items?n(e,t):c(e,t)}))}),o)};return(0,l.jsx)(o.Fragment,{children:e&&e.map((function(n,e){return n.items?s(n,e):c(n,e)}))})},A=t(34358),C=(t(82454),t.p+"static/media/tatsu.446f56f5fc13ce898042.webp"),z=t(34708),B=[{component:u.U6,name:"Dashboard",to:"/dashboard",icon:(0,l.jsx)(b.Z,{icon:z.h,customClassName:"nav-icon"})}],I=function(){var n=(0,v.I0)(),e=(0,v.v9)((function(n){return n.sidebarUnfoldable})),t=(0,v.v9)((function(n){return n.sidebarShow}));return(0,l.jsxs)(u.z3,{position:"fixed",unfoldable:e,visible:t,onVisibleChange:function(e){n({type:"set",sidebarShow:e})},children:[(0,l.jsx)(u.Dl,{className:"d-none d-md-flex",to:"/",children:(0,l.jsx)("img",{src:C,alt:"",className:"tatsuworks-logo"})}),(0,l.jsx)(u.Xk,{children:(0,l.jsx)(A.Z,{children:(0,l.jsx)(_,{items:B})})})]})},L=o.memo(I),O=function(){var n=(0,i.s0)(),e=(0,c.ze)(),t=(0,r.Z)(e,1)[0];return(0,o.useEffect)((function(){t.token||n("/login"),console.log("here")}),[n,t.token]),(0,l.jsxs)("div",{children:[(0,l.jsx)(L,{}),(0,l.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,l.jsx)(N,{}),(0,l.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,l.jsx)(h,{})}),(0,l.jsx)(x,{})]})]})}},59860:function(n,e,t){t.d(e,{Bb:function(){return u},V$:function(){return s},ze:function(){return a}});var r=t(70885),o=t(72791),i=t(13524),c={state:JSON.parse(localStorage.getItem(i.tl))||{},setState:function(n){var e=this;n&&(this.state=n,this.setters.forEach((function(n){return n(e.state)})),localStorage.setItem(i.tl,JSON.stringify(n)))},setters:[]};function a(){var n=(0,o.useState)(c.state),e=(0,r.Z)(n,2),t=e[0],i=e[1];return c.setters.includes(i)||c.setters.push(i),(0,o.useEffect)((function(){return function(){c.setters=c.setters.filter((function(n){return n!==i}))}}),[]),[t,c.setState]}function s(){var n;return(null===(n=c.state)||void 0===n?void 0:n.token)||null}function u(n){c.setState(n)}c.setState=c.setState.bind(c)},86591:function(n,e,t){t.d(e,{AA:function(){return s},L0:function(){return l},w5:function(){return u}});var r=t(61044),o=t(59860),i=t(72063),c=t(13524),a=r.ZP.create({baseURL:"".concat("http://18.140.70.237:3000/api/").concat("v1"),timeout:1e4});a.interceptors.request.use((function(n){return(0,o.V$)()&&(n.headers.Authorization="Bearer ".concat((0,o.V$)())),n}),void 0),a.interceptors.response.use(void 0,(function(n){var e,t;return 401===n.response.data.statusCode&&((0,o.Bb)({}),localStorage.removeItem(c.tl)),(0,i.r)({status:"danger",message:null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message}),Promise.reject(n)}));var s=function(n,e){return new Promise((function(t,r){a.get(n,e).then((function(n){t(n.data)})).catch((function(n){return r(n)}))}))},u=function(n,e,t){return new Promise((function(r,o){a.post(n,e,t).then((function(n){r(n.data)})).catch((function(n){return o(n)}))}))},l=function(n,e){return new Promise((function(t,r){a.delete(n,e).then((function(n){t(n.data)})).catch((function(n){return r(n)}))}))}}}]);
//# sourceMappingURL=523.38ca481f.chunk.js.map